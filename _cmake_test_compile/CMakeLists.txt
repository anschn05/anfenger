cmake_minimum_required(VERSION 3.5)
PROJECT(compiler_test NONE)
ENABLE_LANGUAGE(C)
ENABLE_LANGUAGE(CXX)
if("${_SKBUILD_FORCE_MSVC}")
  if("${_SKBUILD_FORCE_MSVC}" STREQUAL "1930")
    math(EXPR FORCE_MAX "${_SKBUILD_FORCE_MSVC}+19")
  else()
    math(EXPR FORCE_MAX "${_SKBUILD_FORCE_MSVC}+9")
  endif()
  math(EXPR FORCE_MIN "${_SKBUILD_FORCE_MSVC}")
  if(NOT MSVC)
    message(FATAL_ERROR "MSVC is required to pass this check.")
  elseif(MSVC_VERSION LESS FORCE_MIN OR MSVC_VERSION GREATER FORCE_MAX)
    message(FATAL_ERROR "MSVC ${MSVC_VERSION} does pass this check.")
  endif()
endif()
